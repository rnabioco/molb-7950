---
title: "R Bootcamp - Class 7"
subtitle: "Tidyverse odds & ends"
author: "{{< var instructor.block.bootcamp-r >}}"
---

## Class 7 outline

* String manipulation with `stringr`
* Factor operations with `forcats`
* Join functions with `dplyr`
* Advanced plotting with `ggplot2`

## Setup

```{r}
```

# String operations

## Combining strings with `str_c()`

```{r}
```

---

```{r}
```

::: {.notes}
`str_c()` is similar to `paste` and `paste0` but the behavior is more consistent.
:::

## Detecting patterns with `str_detect()`

```{r}
```

---

```{r}
```

## Splitting strings with `str_split()` {.smaller}

```{r}
```

---

```{r}
```

# Factor operations

## Counting factor levels with `fct_count()`

```{r}
```

```{r}
```

## Reordering factors with `fct_reorder()`

```{r}
```

---

```{r}
```

## Lumping infrequent levels with `fct_lump()`

```{r}
```

---

```{r}
```

---

```{r}
```

::: {.aside}
Do your numbers look different? `sample()` is not reproducible by default.
:::

## Aside on `sample()` and reproducibility {.smaller}

```{r}
```

---

```{r}
```

::: {.aside}
this also applies to `rnorm()`, `runif()`, and other random number generation functions.
:::

# Join operations

## Setup

Open up the [tidyexplain](https://www.garrickadenbuie.com/project/tidyexplain/) page.

## Understanding joins

Joins combine data from two tables based on matching keys.

```{r}
```
```{r}
```

## `left_join()` - keep all rows from left table

Most common join - keeps all observations from the "primary" table.

```{r}
```

## `inner_join()` - keep only matching rows

Only keeps rows that exist in both tables.

```{r}
```

## `full_join()` - keep all rows from both tables

```{r}
```

Keeps everything, filling missing values with `NA`.

# Advanced plotting

## Setup

```{r}
```

## scale functions in ggplot2 {.smaller}

- `scale_color_brewer()` and `scale_fill_brewer()` control `color` and `fill` aesthetics.
- See available [ggplot2 brewer palettes](https://ggplot2.tidyverse.org/reference/scale_brewer.html#palettes)

```{r}
```

---

```{r}
```

---

```{r}
```

## Combining multiple plots into a figure? {.smaller}

Use the [`{patchwork}` package](https://patchwork.data-imaginist.com/).

```{r}
```

## Saving plots

Saves last plot as 5' x 5' file named `plot_final.png` in working directory.

Matches file type to file extension (`*.png`, `*.jpeg`, `*.pdf`).

```{r}
```

# Displaying data in tables

We'll use a couple of approaches to display data in tables instead of graphs, which
can be useful for reports or presentations.

## Using `knitr::kable()`

```{r}
```

## Using `gt`

```{r}
```
